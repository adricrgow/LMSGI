<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerPlanet</title>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>
<body>
    <header>
        <div id="menu">
            <i class="fa-solid fa-bars"></i>
        </div>
        <figure>
            <img src="img/logo.png" alt="Logo PowerPlanet">
        </figure>
        <form> <!-- Formulario web -->
            <input type="search" placeholder="Buscar Articulo ...">
        </form>
        <nav>
            <a href="#">Ofertas Limitadas</a>
            <a href="#">Contactanos</a>
            <a href="#">ES</a>
        </nav>
        <div id="carrito"> 
            <i class="fa-solid fa-cart-shopping"></i>
            <i class="fa-solid fa-user"></i>
        </div>
    </header>
    <main>
        <div id="breadcrumb-container"></div>
        <section id="catalogo">
        </section>
    </main>
   <footer>
        <nav id="sociales">
            <a href="#">
                <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-facebook"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-twitter"></i>
            </a>
            <a href="#">
                <i class="fa-brands fa-youtube"></i>
            </a>
        </nav>
        <div id="subscribete">
            <h2>¡SUSCRÍBETE A POWEROFERTAS!</h2>
            <input type="email" placeholder="Introduce tu email">    
        </div>
        <article>
            <h3>Condicones de Compra</h3>
            <nav>
                <a href="#">
                    <i class="fa-solid fa-car"></i>
                    <span>¿Qué envíos hay disponibles en Powerplanetonline?</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-calendar-days"></i>
                    <span>¿Cómo puedo Pagar a plazos en Powerplanet?</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-file-lines"></i>
                    <span>Condiciones generales</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-wrench"></i>
                    <span>Devolución, Garantías y Reparación</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-lock"></i>
                    <span>Política de privacidad</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-cookie"></i>
                    <span>Política de cookies</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-tablet-screen-button"></i>
                    <span>¡Compra desde la APP! Más ventajas</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-briefcase"></i>
                    <span>Empleo</span>
                </a>
                <a href="#">
                    <i class="fa-solid fa-building-columns"></i>
                    <span>Centros educativos y administraciones públicas</span>
                </a>    

            </nav>
        </article>
        <article>
            <h3>Distribuidores</h3>
            <nav>
                <a href="#">Distribución al por mayor</a>
            </nav>
        </article>
        <article>
            <h3>Informacion General</h3>
            <nav>
                <a href="#">¿Dudas? contacta</a>
            </nav>
        </article>
     </footer>
</body>
</html>
<script>
const contenedor = document.getElementById('catalogo');
const breadcrumbContainer = document.getElementById('breadcrumb-container');

fetch('./data/producto.json')
  .then(response => response.json())
  .then(productos => {
    productos.forEach(producto => {
      // Breadcrumb independiente
      let breadcrumbHTML = `
        <div class="breadcrumb">
          <a href="#"><i class="fa-solid fa-house"></i></a>
      `;
      producto.breadcrumb.forEach(nivel => {
        breadcrumbHTML += `<span>›</span><a href="#">${nivel}</a>`;
      });
      breadcrumbHTML += `</div>`;
      breadcrumbContainer.innerHTML = breadcrumbHTML;

      // Ficha del producto
      const ficha = document.createElement('div');
      ficha.className = 'ficha';

      // Carrusel a la izquierda
      let carruselHTML = `
        <div class="carrusel">
          <button class="prev">◀</button>
          <img id="imagen-principal-${producto.nombre.replace(/\s+/g,'-')}" src="${producto.imagenes[0]}" alt="Imagen del producto">
          <button class="next">▶</button>
        </div>
      `;

      // Estrellas
      let estrellasHTML = "";
      for (let i = 1; i <= 5; i++) {
        estrellasHTML += i <= producto.nvaloraciones
          ? `<i class="fa-solid fa-star"></i>`
          : `<i class="fa-regular fa-star"></i>`;
      }

      // Info a la derecha
      const infoHTML = `
        <div class="info">
          <h2>${producto.nombre}</h2>
          <div class="valoraciones">
            ${estrellasHTML}
            <span>${producto.opiniones}</span>
          </div>
          <div class="caracteristicas">
            <p><strong>CPU:</strong> ${producto.caracteristicas.cpu}</p>
            <p><strong>RAM:</strong> ${producto.caracteristicas.ram}</p>
            <p><strong>Almacenamiento:</strong> ${producto.caracteristicas.disco}</p>
          </div>
          <div class="precio">
            <span class="dto">${producto.descuento}</span>
            <span class="pvr">${producto.precioOriginal}</span>
            <span class="pvp">${producto.precio}</span>
          </div>
          <button>COMPRAR AHORA</button>
        </div>
      `;

      ficha.innerHTML = carruselHTML + infoHTML;
      contenedor.appendChild(ficha);

      // Carrusel funcional
      let indice = 0;
      const imgPrincipal = ficha.querySelector(`#imagen-principal-${producto.nombre.replace(/\s+/g,'-')}`);
      const btnPrev = ficha.querySelector('.prev');
      const btnNext = ficha.querySelector('.next');

      btnPrev.addEventListener('click', () => {
        indice = (indice - 1 + producto.imagenes.length) % producto.imagenes.length;
        imgPrincipal.src = producto.imagenes[indice];
      });

      btnNext.addEventListener('click', () => {
        indice = (indice + 1) % producto.imagenes.length;
        imgPrincipal.src = producto.imagenes[indice];
      });
    });
  });
</script>